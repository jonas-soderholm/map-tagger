{"ast":null,"code":"import{useEffect}from\"react\";import{useSharedState}from\"../../SharedContext.jsx\";function ScreenSettings(){const{mapArray}=useSharedState([]);const{isMobile,setIsMobile}=useSharedState();// Check if user wants to leave page or not\nuseEffect(()=>{if(mapArray.length===0){return;}const handleBeforeUnload=e=>{// Cancel the event as stated by the standard.\ne.preventDefault();// Chrome requires returnValue to be set.\ne.returnValue=\"Are you sure you want to leave? Changes you made may not be saved.\";// Some browsers may display the message directly, while others display a fixed message.\n};window.addEventListener(\"beforeunload\",handleBeforeUnload);return()=>{window.removeEventListener(\"beforeunload\",handleBeforeUnload);};},[mapArray]);// Resize if phone window update\nuseEffect(()=>{function handleResize(){setIsMobile(window.innerWidth<=768);}window.addEventListener(\"resize\",handleResize);handleResize();return()=>{window.removeEventListener(\"resize\",handleResize);};});// Resize inner window for mobile\nuseEffect(()=>{const adjustHeight=()=>{// Only adjust height if on mobile\nif(isMobile){const mainContainer=document.querySelector(\".main-container\");if(mainContainer){mainContainer.style.height=\"\".concat(window.innerHeight,\"px\");}}};adjustHeight();window.addEventListener(\"resize\",adjustHeight);return()=>window.removeEventListener(\"resize\",adjustHeight);});}export default ScreenSettings;","map":{"version":3,"names":["useEffect","useSharedState","ScreenSettings","mapArray","isMobile","setIsMobile","length","handleBeforeUnload","e","preventDefault","returnValue","window","addEventListener","removeEventListener","handleResize","innerWidth","adjustHeight","mainContainer","document","querySelector","style","height","concat","innerHeight"],"sources":["/home/jonas/web-projects/trash-tagger/frontend/src/components/settings/ScreenSettings.jsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useSharedState } from \"../../SharedContext.jsx\";\n\nfunction ScreenSettings() {\n  const { mapArray } = useSharedState([]);\n  const { isMobile, setIsMobile } = useSharedState();\n\n  // Check if user wants to leave page or not\n  useEffect(() => {\n    if (mapArray.length === 0) {\n      return;\n    }\n\n    const handleBeforeUnload = (e) => {\n      // Cancel the event as stated by the standard.\n      e.preventDefault();\n      // Chrome requires returnValue to be set.\n      e.returnValue = \"Are you sure you want to leave? Changes you made may not be saved.\";\n      // Some browsers may display the message directly, while others display a fixed message.\n    };\n\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n    };\n  }, [mapArray]);\n\n  // Resize if phone window update\n  useEffect(() => {\n    function handleResize() {\n      setIsMobile(window.innerWidth <= 768);\n    }\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  });\n\n  // Resize inner window for mobile\n  useEffect(() => {\n    const adjustHeight = () => {\n      // Only adjust height if on mobile\n      if (isMobile) {\n        const mainContainer = document.querySelector(\".main-container\");\n        if (mainContainer) {\n          mainContainer.style.height = `${window.innerHeight}px`;\n        }\n      }\n    };\n\n    adjustHeight();\n    window.addEventListener(\"resize\", adjustHeight);\n    return () => window.removeEventListener(\"resize\", adjustHeight);\n  });\n}\n\nexport default ScreenSettings;\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,cAAc,KAAQ,yBAAyB,CAExD,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxB,KAAM,CAAEC,QAAS,CAAC,CAAGF,cAAc,CAAC,EAAE,CAAC,CACvC,KAAM,CAAEG,QAAQ,CAAEC,WAAY,CAAC,CAAGJ,cAAc,CAAC,CAAC,CAElD;AACAD,SAAS,CAAC,IAAM,CACd,GAAIG,QAAQ,CAACG,MAAM,GAAK,CAAC,CAAE,CACzB,OACF,CAEA,KAAM,CAAAC,kBAAkB,CAAIC,CAAC,EAAK,CAChC;AACAA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB;AACAD,CAAC,CAACE,WAAW,CAAG,oEAAoE,CACpF;AACF,CAAC,CAEDC,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAEL,kBAAkB,CAAC,CAE3D,MAAO,IAAM,CACXI,MAAM,CAACE,mBAAmB,CAAC,cAAc,CAAEN,kBAAkB,CAAC,CAChE,CAAC,CACH,CAAC,CAAE,CAACJ,QAAQ,CAAC,CAAC,CAEd;AACAH,SAAS,CAAC,IAAM,CACd,QAAS,CAAAc,YAAYA,CAAA,CAAG,CACtBT,WAAW,CAACM,MAAM,CAACI,UAAU,EAAI,GAAG,CAAC,CACvC,CACAJ,MAAM,CAACC,gBAAgB,CAAC,QAAQ,CAAEE,YAAY,CAAC,CAC/CA,YAAY,CAAC,CAAC,CACd,MAAO,IAAM,CACXH,MAAM,CAACE,mBAAmB,CAAC,QAAQ,CAAEC,YAAY,CAAC,CACpD,CAAC,CACH,CAAC,CAAC,CAEF;AACAd,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,YAAY,CAAGA,CAAA,GAAM,CACzB;AACA,GAAIZ,QAAQ,CAAE,CACZ,KAAM,CAAAa,aAAa,CAAGC,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC,CAC/D,GAAIF,aAAa,CAAE,CACjBA,aAAa,CAACG,KAAK,CAACC,MAAM,IAAAC,MAAA,CAAMX,MAAM,CAACY,WAAW,MAAI,CACxD,CACF,CACF,CAAC,CAEDP,YAAY,CAAC,CAAC,CACdL,MAAM,CAACC,gBAAgB,CAAC,QAAQ,CAAEI,YAAY,CAAC,CAC/C,MAAO,IAAML,MAAM,CAACE,mBAAmB,CAAC,QAAQ,CAAEG,YAAY,CAAC,CACjE,CAAC,CAAC,CACJ,CAEA,cAAe,CAAAd,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}