{"ast":null,"code":"export async function RegisterNewAccount(email, password) {\n  try {\n    const response = await fetch(\"http://164.92.254.31:5000/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    if (!response.ok) {\n      throw new Error(\"Failed to register\");\n    }\n    const data = await response.json();\n    //console.log(\"Registration successful:\", data);\n\n    // Optionally, you can return data or perform other actions based on the response\n    return data;\n  } catch (error) {\n    //console.error(\"Error registering account:\", error.message);\n    // Handle the error (e.g., display an error message to the user)\n  }\n}\n_c = RegisterNewAccount;\nexport async function Login(email, password, setIsLoggedIn, setErrorMessage, rememberMe) {\n  try {\n    const response = await fetch(\"http://164.92.254.31:5000/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    if (!response.ok) {\n      throw new Error(\"Failed to login\");\n    }\n    const data = await response.json();\n    //console.log(\"Login successful:\", data);\n\n    // Set the isLoggedIn state to true\n    setIsLoggedIn(true);\n\n    // Store the token securely\n    if (rememberMe) {\n      localStorage.setItem(\"token\", data.token);\n    }\n\n    // Optionally, you can return data or perform other actions based on the response\n    return data;\n  } catch (error) {\n    setErrorMessage(\"Wrong email or password\");\n    console.error(\"Error logging in:\", error.message);\n  }\n}\n_c2 = Login;\nvar _c, _c2;\n$RefreshReg$(_c, \"RegisterNewAccount\");\n$RefreshReg$(_c2, \"Login\");","map":{"version":3,"names":["RegisterNewAccount","email","password","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","error","_c","Login","setIsLoggedIn","setErrorMessage","rememberMe","localStorage","setItem","token","console","message","_c2","$RefreshReg$"],"sources":["/home/jonas/web-projects/trash-tagger/frontend/src/components/auth/LoginHandlerBackend.jsx"],"sourcesContent":["export async function RegisterNewAccount(email, password) {\n  try {\n    const response = await fetch(\"http://164.92.254.31:5000/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email, password }),\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to register\");\n    }\n\n    const data = await response.json();\n    //console.log(\"Registration successful:\", data);\n\n    // Optionally, you can return data or perform other actions based on the response\n    return data;\n  } catch (error) {\n    //console.error(\"Error registering account:\", error.message);\n    // Handle the error (e.g., display an error message to the user)\n  }\n}\n\nexport async function Login(email, password, setIsLoggedIn, setErrorMessage, rememberMe) {\n  try {\n    const response = await fetch(\"http://164.92.254.31:5000/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email, password }),\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to login\");\n    }\n\n    const data = await response.json();\n    //console.log(\"Login successful:\", data);\n\n    // Set the isLoggedIn state to true\n    setIsLoggedIn(true);\n\n    // Store the token securely\n    if (rememberMe) {\n      localStorage.setItem(\"token\", data.token);\n    }\n\n    // Optionally, you can return data or perform other actions based on the response\n    return data;\n  } catch (error) {\n    setErrorMessage(\"Wrong email or password\");\n    console.error(\"Error logging in:\", error.message);\n  }\n}\n"],"mappings":"AAAA,OAAO,eAAeA,kBAAkBA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACxD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAoC,EAAE;MACjEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAER,KAAK;QAAEC;MAAS,CAAC;IAC1C,CAAC,CAAC;IAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;IACvC;IAEA,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAClC;;IAEA;IACA,OAAOD,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd;IACA;EAAA;AAEJ;AAACC,EAAA,GAvBqBf,kBAAkB;AAyBxC,OAAO,eAAegB,KAAKA,CAACf,KAAK,EAAEC,QAAQ,EAAEe,aAAa,EAAEC,eAAe,EAAEC,UAAU,EAAE;EACvF,IAAI;IACF,MAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAE;MAC9DC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAER,KAAK;QAAEC;MAAS,CAAC;IAC1C,CAAC,CAAC;IAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,iBAAiB,CAAC;IACpC;IAEA,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAClC;;IAEA;IACAI,aAAa,CAAC,IAAI,CAAC;;IAEnB;IACA,IAAIE,UAAU,EAAE;MACdC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAET,IAAI,CAACU,KAAK,CAAC;IAC3C;;IAEA;IACA,OAAOV,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdI,eAAe,CAAC,yBAAyB,CAAC;IAC1CK,OAAO,CAACT,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAACU,OAAO,CAAC;EACnD;AACF;AAACC,GAAA,GA/BqBT,KAAK;AAAA,IAAAD,EAAA,EAAAU,GAAA;AAAAC,YAAA,CAAAX,EAAA;AAAAW,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}